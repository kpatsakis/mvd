static CharDriverState *qemu_chr_open_win_file_out(const char *file_out) HANDLE fd_out ; fd_out = CreateFile ( file_out , GENERIC_WRITE , FILE_SHARE_READ , NULL , OPEN_ALWAYS , FILE_ATTRIBUTE_NORMAL , NULL ); if ( fd_out == INVALID_HANDLE_VALUE )  return qemu_chr_open_win_file ( fd_out ) ; static CharDriverState *qemu_chr_open_win_file(HANDLE fd_out) s -> hcom = fd_out; chr -> opaque = s; chr -> chr_write = win_chr_write; qemu_chr_reset ( chr ); void qemu_chr_reset(CharDriverState *s) if ( s -> bh == NULL && initial_reset_issued )  s -> bh = qemu_bh_new ( qemu_chr_reset_bh , s ); qemu_bh_schedule ( s -> bh ); return chr ; 