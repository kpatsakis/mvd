 handle_buffered_pio(void) struct pio_buffer * p1 , * p2 ; if ( ! buffered_pio_page )  p1 = & buffered_pio_page -> pio [ PIO_BUFFER_IDE_PRIMARY ]; __handle_buffered_pio ( p1 ); static __handle_buffered_pio(struct pio_buffer *piobuf) IDEState * s = piobuf -> opaque ; uint32_t pointer = piobuf -> pointer ; if ( pointer == 0 )  if ( s != NULL )  __buffered_pio_flush ( piobuf , s , pointer ); static inline __buffered_pio_flush(struct pio_buffer *piobuf, IDEState *s, uint32_t pointer) uint8_t * buf = ( uint8_t * ) buffered_pio_page + piobuf -> page_offset ; memcpy ( s -> data_ptr , buf , pointer ); s -> data_ptr += pointer; 