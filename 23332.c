static brcmf_notify_connect_status(struct brcmf_if const struct brcmf_event_msg *e, void *data) struct net_device * ndev = ifp -> ndev ; if ( brcmf_is_apmode ( ifp -> vif ) )  static bool brcmf_is_apmode(struct brcmf_cfg80211_vif *vif) enum nl80211_iftype iftype ; iftype = vif -> wdev . iftype; return iftype == NL80211_IFTYPE_AP || iftype == NL80211_IFTYPE_P2P_GO ; if ( brcmf_is_linkup ( e ) )  static bool brcmf_is_linkup(const struct brcmf_event_msg *e) u32 event = e -> event_code ; u32 status = e -> status ; if ( event == BRCMF_E_SET_SSID && status == BRCMF_E_STATUS_SUCCESS )  return true ; return false ; if ( brcmf_is_linkdown ( e ) )  static bool brcmf_is_linkdown(const struct brcmf_event_msg *e) u32 event = e -> event_code ; u16 flags = e -> flags ; if ( ( event == BRCMF_E_DEAUTH ) || ( event == BRCMF_E_DEAUTH_IND ) || ( event == BRCMF_E_DISASSOC_IND ) || ( ( event == BRCMF_E_LINK ) && ( ! ( flags & BRCMF_EVENT_MSG_LINK ) ) ) )  return true ; return false ; if ( ! brcmf_is_ibssmode ( ifp -> vif ) )  static bool brcmf_is_ibssmode(struct brcmf_cfg80211_vif *vif) return vif -> wdev . iftype == NL80211_IFTYPE_ADHOC ; brcmf_init_prof ( ndev_to_prof ( ndev ) ); static void brcmf_init_prof(struct brcmf_cfg80211_profile *prof) memset ( prof , 0 , sizeof ( * prof ) ); 