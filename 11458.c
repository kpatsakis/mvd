static int ffs_set_inst_name(struct usb_function_instance *fi, const char *name) struct f_fs_opts * opts ; char * ptr ; int name_len , ret ; name_len = strlen ( name ) + 1; if ( name_len > MAX_INST_NAME_LEN )  ptr = kstrndup ( name , name_len , GFP_KERNEL ); if ( ! ptr )  opts = to_f_fs_opts ( fi ); ret = _ffs_name_dev ( opts -> dev , ptr ); static int _ffs_name_dev(struct ffs_dev *dev, const char *name) struct ffs_dev * existing ; existing = _ffs_do_find_dev ( name ); static struct ffs_dev *_ffs_do_find_dev(const char *name) struct ffs_dev * dev ; if ( strcmp ( dev -> name , name ) == 0 )  